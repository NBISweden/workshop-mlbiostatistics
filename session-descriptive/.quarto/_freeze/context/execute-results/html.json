{
  "hash": "2bff4d36225a62b2b7692a578505fa4a",
  "result": {
    "markdown": "---\noutput: html_document\neditor_options: \n  chunk_output_type: console\n---\n\n\n\n\n# Box-and-whisker plot\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# load libraries\nlibrary(tidyverse)\nlibrary(magrittr)\nlibrary(kableExtra)\nlibrary(faraway)\nlibrary(scales)\nlibrary(ggbeeswarm)\nlibrary(gridExtra)\n\n# define generic ggplot theme\nfont.size <- 12\ncol.blue.light <- \"#a6cee3\"\ncol.blue.dark <- \"#1f78b4\"\nmy.ggtheme <- theme(axis.title = element_text(size = font.size), \n        axis.text = element_text(size = font.size), \n        legend.text = element_text(size = font.size), \n        legend.title = element_blank(), \n        legend.position = \"top\", \n        axis.title.y = element_text(angle = 0)) \n\n# add obesity and diabetes status to diabetes faraway data\ninch2m <- 2.54/100\npound2kg <- 0.45\ndata_diabetes <- diabetes %>%\n  mutate(height  = height * inch2m, height = round(height, 2)) %>% \n  mutate(waist = waist * inch2m) %>%  \n  mutate(weight = weight * pound2kg, weight = round(weight, 2)) %>%\n  mutate(BMI = weight / height^2, BMI = round(BMI, 2)) %>% \n  mutate(obese= cut(BMI, breaks = c(0, 29.9, 100), labels = c(\"No\", \"Yes\"))) %>% \n  mutate(diabetic = ifelse(glyhb > 7, \"Yes\", \"No\"), diabetic = factor(diabetic, levels = c(\"No\", \"Yes\"))) %>%\n  na.omit()\n```\n:::\n\n\nA box-and-whisker plot, commonly referred to as box plot, is a **diagram summarizing numerical data through quartiles**. It is shown as a vertical or horizontal rectangle **box**, with the ends of rectangle corresponding to the upper (Q3) and lower (Q1) quartiles of the data values. A line drawn through the rectangle corresponds to the median value (Q2). \n\nIn addition to the box, there can be also lines called **whiskers** extending from the rectangle indicating variability outside the upper and lower quartiles. These can be defined in few ways, for instance they can indicate i) minimum and maximum values or ii) particular percentiles, e.g. 5th and 95th. On the box plot prepared with `R` function `boxplot()` or `geom_boxplot()` the upper whisker extends by default to the largest value no further than 1.5 * IQR from Q3 while the lower whiskers extends by default to the smallest value at most 1.5 * IQR from Q1. \n\nData beyond the end of the whiskers are called \"outlying\" points and are plotted individually.\n\nBelow, we can see annotated box plot based on the BMI values for the 130 study participants. \n\n![Box plot](images/boxplot-annotated.png){#fig-boxplot-annotated}\n\nThe code to generate the box plot in `R` is here: \n\n\n::: {.cell .fig-cap-location-margin}\n\n```{.r .cell-code  code-fold=\"false\"}\ndata_diabetes %>%\n  ggplot(aes(x = \"\", y = BMI)) + \n  geom_boxplot(alpha = 1, col = \"black\", outlier.colour = \"red\", width = 0.4) + \n  xlab(\"\") + \n  theme_classic() + \n  my.ggtheme\n```\n\n::: {.cell-output-display}\n![A box-and-whisker plot for the BMI values based on the measurments for the 130 study participants.](context_files/figure-html/fig-boxplot-1.png){#fig-boxplot width=576}\n:::\n:::\n\n\nWe have previously mentioned that when we are dealing with a relatively small data set it is recommended to visually assess all the observations. We can overlay jitter plot on the box plot to get a complete picture of both the data and the quartiles summary statistics.\n\n::: {.cell .fig-cap-location-margin}\n\n```{.r .cell-code  code-fold=\"false\"}\ndata_diabetes %>%\n  ggplot(aes(x = \"\", y = BMI)) + \n  geom_boxplot(alpha = 1, col = \"black\", outlier.colour = \"red\", width = 0.4) + \n  geom_jitter(width = 0.2, alpha = 0.3) + \n  xlab(\"\") + \n  theme_classic() + \n  my.ggtheme\n```\n\n::: {.cell-output-display}\n![A box-and-whisker plot overlayed on the jitter plot for the BMI values based on the measurments for the 130 study participants.](context_files/figure-html/fig-boxplot-jitter-1.png){#fig-boxplot-jitter width=576}\n:::\n:::\n",
    "supporting": [
      "context_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}