{"title":"Differentiation","markdown":{"yaml":{"output":"html_document","editor_options":{"chunk_output_type":"console"}},"headingText":"Differentiation","containsRefs":false,"markdown":"\n\n**Aims**\n\n- introduce the concept of differentiation and rules of differentiation\n\n**Learning outcomes**\n\n- to be able to explain differentiation in terms of rate of change\n- to be able to find derivatives in simple cases \n\n## Rate of change\n- We are often interested in the rate at which some variable is changing, e.g. we may be interested in the rate at which the temperature is changing or the rate of water levels increasing\n- Rapid or unusual changes may indicate that we are dealing with unusual situations, e.g. global warming or a flood\n- Rates of change can be positive, negative or zero corresponding to a variable increasing, decreasing and non-changing\n\n```{r}\n#| echo: false\n#| fig-width: 8\n#| fig-height: 6\n#| fig-align: center\n#| fig-cap-location: margin\n#| fig-cap: \"The function $f(x)$ changes at different rates for different values of $x$\"\n\nx <- seq(-10, 10, 0.1)\ny <- (1*x^4 - 4*x^3 - x^2 - exp(-x))/1000\n\nplot(x,y, type=\"l\", ylab=\"f(x)\", las = 1, panel.first = grid())\n\n```\n\nThe function $f(x) = x^4 - 4x^3 - x^2 - e^{-x}$ changes at different rates for different values of $x$, e.g. \n\n- between $x \\in (-10, -9)$ the $f(x)$ is increasing at slightly higher pace than $x \\in (5,6)$ \n- between $x \\in (-7, -5)$ the $f(x)$ is decreasing and\n- between $x \\in (0, 1)$ the $f(x)$ is not changing\n- to be able to talk more precisely about the rate of change than just saying \"large and positive\" or \"small and negative\" change we need to quantify the changes, i.e. assign the rate of change an exact value\n- **Differentiation** is a technique for calculating the rate of change of any function\n\n## Average rate of change across an interval\n```{r}\n#| label: diff-01\n#| echo: false\n#| out-width: 8in\n#| out-height: 5in\n#| fig-align: center\n#| fig-cap-location: margin\n#| fig-cap: \"The average rate of change of $f(x)$ with respect to $x$ over $[a, b]$ is equal to the slope of the secant line (in black)\"\n\nknitr::include_graphics(\"figures/precourse/math-differentiation-01.png\")\n\n```\n\nTo dive further into calculating the rate of change let's look at Figure \\@ref(fig:diff-01) and define the *average rate of change* of a function across an interval. Figure \\@ref(fig:diff-01) shows a function $f(x)$ with two possible argument values $a$ and $b$ marked and their corresponding function values $f(a)$ and $f(b)$. \n\nConsider that $x$ is increasing from $a$ to $b$. The change in $x$ is $b-a$, i.e. as $x$ increases from $a$ to $b$ the function $f(x)$ increase from $f(a)$ to $f(b)$. The change in $f(x)$ is $f(b)-f(a)$ and the average rate of change of $y$ across the $[a,b]$ interval is:\n\n\\begin{equation}\n\\frac{change\\:in\\:y}{change\\:in\\:x}=\\frac{f(b)-f(a)}{b-a}\n(\\#eq:diff-point)\n\\end{equation}\n\n\nE.g. let's take a quadratic function $f(x)=x^2$ and calculate the average rate of change across the interval $[1, 4]$. \n\n- The change in $x$ is $4-1$ and the change in $f(x)$ is $f(4) - f(1) = 4^2 -1^2 = 16 - 1 = 15$. So the average rate of change is $\\frac{15}{3}=5$. What does this mean? It means that across the interval $[1,4]$ on average the $f(x)$ value increases by 5 for every 1 unit increase in $x$. \n- If we were to look at the average rate of change across the interval $[-2, 0]$ we would get $\\frac{f(0)-f(-2)}{0 - (-2)}=\\frac{0 - (-2)^2}{2}=\\frac{-4}{2} = -2$. Here, over the $[-2, 0]$ on average the $f(x)$ value decreases by 2 for every 1 unit increase in $x$. \n- Looking at the graph of $f(x)=x^2$ verifies our calculations\n\n```{r}\n#| label: diff-avg-rate\n#| echo: false\n#| fig-width: 8\n#| fig-height: 6\n#| fig-align: center\n#| fig-cap-location: margin\n#| fig-cap: \"Example function $f(x) = x^2$\"\n\nx <- seq(-5, 5, 0.1)\ny <- x^2\n\nplot(x,y, type=\"l\", las=1, ylab=\"f(x)\")\n\n```\n\n## Rate of change at a point\n- We often need to know the rate of change of a function at a point, and not simply an average rate of change across an interval.\n- Figure \\@ref(fig:diff-02), similar to Figure \\@ref(fig:diff-01), shows, instead of two points $a$ and $b$, point $a$ and a second point defined in terms of its distance from the first point $a$. Thus, the two points are now $a$ and $a + h$ and the distance between the two points is equal to $h$.\n- Now we can write that:\n$$\\frac{change\\:in\\:y}{change\\:in\\:x}=\\frac{f(a+h)-f(a)}{a+h-a} = \\frac{f(a+h)-f(a)}{h}$$\n\n```{r}\n#| label: diff-02\n#| echo: false\n#| fig-dpi: 300\n#| out-width: 8in\n#| out-height: 5in\n#| fig-align: center\n#| fig-cap-location: margin\n#| fig-cap: \"The average rate of change of $f(x)$ with respect to $x$ over $[a, b]$ is equal to the slope of the secant line (in black)\"\n\nknitr::include_graphics(\"figures/precourse/math-differentiation-02.png\")\n\n```\n\n\nFurther:\n\n- if we assume that the second point $a+h$ is really close to $a$, meaning that $h$ approaches 0, denoted as $h \\rightarrow 0$, we can find the rate of change at the point $a$\n- the distance between the two points $a$ and $a+h$ is getting smaller and so is the difference of the function values $f(a+h) - f(a)$. We denote these small differences as $\\delta x$ and $\\delta y$, pronounced \"delta x\" and \"delta y\", respectively. \n- the term $\\delta$ reads as \"delta\" and represents a small change\n\nWe can thus continue and write that a **rate of change of a function at a point** is given by\n\\begin{equation}\n\\frac{small\\:change\\:in\\:y}{small\\:change\\:in\\:x} = \\lim_{h\\to0}\\frac{f(a+h)-f(a)}{h}\n(\\#eq:diff-point-2)\n\\end{equation}\n\n<br />\n\nE.g. let's look at the linear function $f(x) = 2x+3$. We can find the rate of change at any point of $x$ by:\n$$\\frac{small\\:change\\:in\\:y}{small\\:change\\:in\\:x} = \\\\\\frac{f(x+h)-f(x)}{x+h-x}= \\lim_{h\\to0}\\frac{2(x+h)+3-(2x+3)}{x+h-x}=\\lim_{h\\to0}\\frac{2h}{h}=2$$\nIt means that the function value $f(x)$ increases by 2 for every small increase, $h$, in $x$. Here, this increase is the same for all the values of $x$, i.e. it does not depend on $x$. **The change in function value $f(x)$ can depend** on the value of $x$, for instance if we look at the quadratic $f(x)=x^2$ function, we get:\n$$\\frac{small\\:change\\:in\\:y}{small\\:change\\:in\\:x} = \\\\ \\frac{f(x+h)-f(x)}{x+h-x}=\\lim_{h\\to0}\\frac{x^2+2xh+h^2-x^2}{h}=\\lim_{h\\to0}\\frac{2xh+h^2}{h}=2x+h$$\n<br />\nThis means that:\n\n- the rate of change for the function $f(x)$ at a point $x$ is $2x$\n- the $f(x)$ value increases by $2x$ for every small increase, $h$, in $x$\n- the rate of change along a quadratic function is changing constantly according to the value of $x$ we are looking at, it is a function of $x$\n- and finally that the rate of change does not give us any information about the rate of change globally.\n\n## Terminology and notation\n- **differentiation** is the process of finding the rate of change of a given function\n- the function is said to be **differentiated**\n- the rate of change of a function is also known as the **derivative** of the function\n- given a function $f(x)$ we say that we differentiate function in respect to $x$ and write:\n\n$$\\lim_{h\\to0}\\frac{\\delta y}{\\delta x}= \\frac{dy}{dx}$$\n\nor use the \"prime\" $$f´(x)$$\n\n## Table of derivatives\n- in practice, there is no need to compute $\\displaystyle \\lim_{h\\to0}\\frac{\\delta y}{\\delta x}$ every time when we want to find a derivative of a function\n- instead, we can use patterns of the common functions and their derivatives\n\n|Function $f(x)$ | Derivative $f'(x)$ |\n| :-----------: | :-----------: |\n|$k$ | $0$|\n|$x$ | $1$|\n|$kx$ | $k$|\n|$x^n$ | $nx^{n-1}$|\n|$kx^n$ | $knx^{n-1}$|\n|$e^x$ | $e^x$|\n|$e^{kx}$ | $ke^{kx}$|\n|$\\ln(x)$ | $\\frac{1}{x}$|\n|$\\ln(kx)$ | $\\frac{1}{x}$|\n: Common functions and their derivatives, $k$ denotes a constant {#tbl-diff} \n\nWe can use @tbl-diff to find derivatives of some of the functions e.g.\n\n- $f(x) = 3x$, $f'(x) = 3$\n- $f(x) = 2x^4$, $f'(x) = 2*4x^{4-1} = 8x^3$\n- $f(x) = e^{2x}$, $f'(x) = 2e^{2x}$\n- $f(x) = \\ln(4x)$, $f'(x) = \\frac{1}{x}$\n\n\n## Exercises {-}\n\n::: {#exr-m-diff}\n\nFind derivatives of the functions\n\na) $f(x) = 2$\nb) $f(x) = 2x + 1$\nc) $f(x) = 5x^2$\nd) $f(x) = 4x^3 + x^2$\ne) $f(x) = \\sqrt(x)$\nf) $f(x) = \\ln(2x)$\ng) $f(x) = e^{x}$\nh) $f(x) = \\frac{9}{x^2} + ln(4x)$\ni) $f(x) = 4x−6x^6$\nj) $f(x) = \\frac{3}{x^2}$\n\n:::\n\n## Answers {-}\n\n::: {.solution}\n@exr-m-diff\n:::\n\na) $f(x) = 2$, $f'(x) = 0$\nb) $f(x) = 2x + 1$, $f'(x) = 2$\nc) $f(x) = 5x^2$, $f'(x)= 10x$\nd) $f(x) = 4x^3 + x^2$, $f'(x)=12x^2 + 2x$\ne) $f(x) = \\sqrt(x) = x^{\\frac{1}{2}}$, $f'(x)=\\frac{1}{2}x^{\\frac{1}{2}-1} = \\frac{1}{2}x^{-\\frac{1}{2}}$\nf) $f(x) = \\ln(2x)$, $f'(x) = \\frac{1}{x}$\ng) $f(x) = e^{x}$, $f'(x) = e^x$\nh) $f(x) = \\frac{9}{x^2} + ln(4x)$\ni) $f(x) = 4x−6x^6$\nj) $f(x) = \\frac{3}{x^2}$\n\n","srcMarkdownNoYaml":"\n# Differentiation\n\n**Aims**\n\n- introduce the concept of differentiation and rules of differentiation\n\n**Learning outcomes**\n\n- to be able to explain differentiation in terms of rate of change\n- to be able to find derivatives in simple cases \n\n## Rate of change\n- We are often interested in the rate at which some variable is changing, e.g. we may be interested in the rate at which the temperature is changing or the rate of water levels increasing\n- Rapid or unusual changes may indicate that we are dealing with unusual situations, e.g. global warming or a flood\n- Rates of change can be positive, negative or zero corresponding to a variable increasing, decreasing and non-changing\n\n```{r}\n#| echo: false\n#| fig-width: 8\n#| fig-height: 6\n#| fig-align: center\n#| fig-cap-location: margin\n#| fig-cap: \"The function $f(x)$ changes at different rates for different values of $x$\"\n\nx <- seq(-10, 10, 0.1)\ny <- (1*x^4 - 4*x^3 - x^2 - exp(-x))/1000\n\nplot(x,y, type=\"l\", ylab=\"f(x)\", las = 1, panel.first = grid())\n\n```\n\nThe function $f(x) = x^4 - 4x^3 - x^2 - e^{-x}$ changes at different rates for different values of $x$, e.g. \n\n- between $x \\in (-10, -9)$ the $f(x)$ is increasing at slightly higher pace than $x \\in (5,6)$ \n- between $x \\in (-7, -5)$ the $f(x)$ is decreasing and\n- between $x \\in (0, 1)$ the $f(x)$ is not changing\n- to be able to talk more precisely about the rate of change than just saying \"large and positive\" or \"small and negative\" change we need to quantify the changes, i.e. assign the rate of change an exact value\n- **Differentiation** is a technique for calculating the rate of change of any function\n\n## Average rate of change across an interval\n```{r}\n#| label: diff-01\n#| echo: false\n#| out-width: 8in\n#| out-height: 5in\n#| fig-align: center\n#| fig-cap-location: margin\n#| fig-cap: \"The average rate of change of $f(x)$ with respect to $x$ over $[a, b]$ is equal to the slope of the secant line (in black)\"\n\nknitr::include_graphics(\"figures/precourse/math-differentiation-01.png\")\n\n```\n\nTo dive further into calculating the rate of change let's look at Figure \\@ref(fig:diff-01) and define the *average rate of change* of a function across an interval. Figure \\@ref(fig:diff-01) shows a function $f(x)$ with two possible argument values $a$ and $b$ marked and their corresponding function values $f(a)$ and $f(b)$. \n\nConsider that $x$ is increasing from $a$ to $b$. The change in $x$ is $b-a$, i.e. as $x$ increases from $a$ to $b$ the function $f(x)$ increase from $f(a)$ to $f(b)$. The change in $f(x)$ is $f(b)-f(a)$ and the average rate of change of $y$ across the $[a,b]$ interval is:\n\n\\begin{equation}\n\\frac{change\\:in\\:y}{change\\:in\\:x}=\\frac{f(b)-f(a)}{b-a}\n(\\#eq:diff-point)\n\\end{equation}\n\n\nE.g. let's take a quadratic function $f(x)=x^2$ and calculate the average rate of change across the interval $[1, 4]$. \n\n- The change in $x$ is $4-1$ and the change in $f(x)$ is $f(4) - f(1) = 4^2 -1^2 = 16 - 1 = 15$. So the average rate of change is $\\frac{15}{3}=5$. What does this mean? It means that across the interval $[1,4]$ on average the $f(x)$ value increases by 5 for every 1 unit increase in $x$. \n- If we were to look at the average rate of change across the interval $[-2, 0]$ we would get $\\frac{f(0)-f(-2)}{0 - (-2)}=\\frac{0 - (-2)^2}{2}=\\frac{-4}{2} = -2$. Here, over the $[-2, 0]$ on average the $f(x)$ value decreases by 2 for every 1 unit increase in $x$. \n- Looking at the graph of $f(x)=x^2$ verifies our calculations\n\n```{r}\n#| label: diff-avg-rate\n#| echo: false\n#| fig-width: 8\n#| fig-height: 6\n#| fig-align: center\n#| fig-cap-location: margin\n#| fig-cap: \"Example function $f(x) = x^2$\"\n\nx <- seq(-5, 5, 0.1)\ny <- x^2\n\nplot(x,y, type=\"l\", las=1, ylab=\"f(x)\")\n\n```\n\n## Rate of change at a point\n- We often need to know the rate of change of a function at a point, and not simply an average rate of change across an interval.\n- Figure \\@ref(fig:diff-02), similar to Figure \\@ref(fig:diff-01), shows, instead of two points $a$ and $b$, point $a$ and a second point defined in terms of its distance from the first point $a$. Thus, the two points are now $a$ and $a + h$ and the distance between the two points is equal to $h$.\n- Now we can write that:\n$$\\frac{change\\:in\\:y}{change\\:in\\:x}=\\frac{f(a+h)-f(a)}{a+h-a} = \\frac{f(a+h)-f(a)}{h}$$\n\n```{r}\n#| label: diff-02\n#| echo: false\n#| fig-dpi: 300\n#| out-width: 8in\n#| out-height: 5in\n#| fig-align: center\n#| fig-cap-location: margin\n#| fig-cap: \"The average rate of change of $f(x)$ with respect to $x$ over $[a, b]$ is equal to the slope of the secant line (in black)\"\n\nknitr::include_graphics(\"figures/precourse/math-differentiation-02.png\")\n\n```\n\n\nFurther:\n\n- if we assume that the second point $a+h$ is really close to $a$, meaning that $h$ approaches 0, denoted as $h \\rightarrow 0$, we can find the rate of change at the point $a$\n- the distance between the two points $a$ and $a+h$ is getting smaller and so is the difference of the function values $f(a+h) - f(a)$. We denote these small differences as $\\delta x$ and $\\delta y$, pronounced \"delta x\" and \"delta y\", respectively. \n- the term $\\delta$ reads as \"delta\" and represents a small change\n\nWe can thus continue and write that a **rate of change of a function at a point** is given by\n\\begin{equation}\n\\frac{small\\:change\\:in\\:y}{small\\:change\\:in\\:x} = \\lim_{h\\to0}\\frac{f(a+h)-f(a)}{h}\n(\\#eq:diff-point-2)\n\\end{equation}\n\n<br />\n\nE.g. let's look at the linear function $f(x) = 2x+3$. We can find the rate of change at any point of $x$ by:\n$$\\frac{small\\:change\\:in\\:y}{small\\:change\\:in\\:x} = \\\\\\frac{f(x+h)-f(x)}{x+h-x}= \\lim_{h\\to0}\\frac{2(x+h)+3-(2x+3)}{x+h-x}=\\lim_{h\\to0}\\frac{2h}{h}=2$$\nIt means that the function value $f(x)$ increases by 2 for every small increase, $h$, in $x$. Here, this increase is the same for all the values of $x$, i.e. it does not depend on $x$. **The change in function value $f(x)$ can depend** on the value of $x$, for instance if we look at the quadratic $f(x)=x^2$ function, we get:\n$$\\frac{small\\:change\\:in\\:y}{small\\:change\\:in\\:x} = \\\\ \\frac{f(x+h)-f(x)}{x+h-x}=\\lim_{h\\to0}\\frac{x^2+2xh+h^2-x^2}{h}=\\lim_{h\\to0}\\frac{2xh+h^2}{h}=2x+h$$\n<br />\nThis means that:\n\n- the rate of change for the function $f(x)$ at a point $x$ is $2x$\n- the $f(x)$ value increases by $2x$ for every small increase, $h$, in $x$\n- the rate of change along a quadratic function is changing constantly according to the value of $x$ we are looking at, it is a function of $x$\n- and finally that the rate of change does not give us any information about the rate of change globally.\n\n## Terminology and notation\n- **differentiation** is the process of finding the rate of change of a given function\n- the function is said to be **differentiated**\n- the rate of change of a function is also known as the **derivative** of the function\n- given a function $f(x)$ we say that we differentiate function in respect to $x$ and write:\n\n$$\\lim_{h\\to0}\\frac{\\delta y}{\\delta x}= \\frac{dy}{dx}$$\n\nor use the \"prime\" $$f´(x)$$\n\n## Table of derivatives\n- in practice, there is no need to compute $\\displaystyle \\lim_{h\\to0}\\frac{\\delta y}{\\delta x}$ every time when we want to find a derivative of a function\n- instead, we can use patterns of the common functions and their derivatives\n\n|Function $f(x)$ | Derivative $f'(x)$ |\n| :-----------: | :-----------: |\n|$k$ | $0$|\n|$x$ | $1$|\n|$kx$ | $k$|\n|$x^n$ | $nx^{n-1}$|\n|$kx^n$ | $knx^{n-1}$|\n|$e^x$ | $e^x$|\n|$e^{kx}$ | $ke^{kx}$|\n|$\\ln(x)$ | $\\frac{1}{x}$|\n|$\\ln(kx)$ | $\\frac{1}{x}$|\n: Common functions and their derivatives, $k$ denotes a constant {#tbl-diff} \n\nWe can use @tbl-diff to find derivatives of some of the functions e.g.\n\n- $f(x) = 3x$, $f'(x) = 3$\n- $f(x) = 2x^4$, $f'(x) = 2*4x^{4-1} = 8x^3$\n- $f(x) = e^{2x}$, $f'(x) = 2e^{2x}$\n- $f(x) = \\ln(4x)$, $f'(x) = \\frac{1}{x}$\n\n\n## Exercises {-}\n\n::: {#exr-m-diff}\n\nFind derivatives of the functions\n\na) $f(x) = 2$\nb) $f(x) = 2x + 1$\nc) $f(x) = 5x^2$\nd) $f(x) = 4x^3 + x^2$\ne) $f(x) = \\sqrt(x)$\nf) $f(x) = \\ln(2x)$\ng) $f(x) = e^{x}$\nh) $f(x) = \\frac{9}{x^2} + ln(4x)$\ni) $f(x) = 4x−6x^6$\nj) $f(x) = \\frac{3}{x^2}$\n\n:::\n\n## Answers {-}\n\n::: {.solution}\n@exr-m-diff\n:::\n\na) $f(x) = 2$, $f'(x) = 0$\nb) $f(x) = 2x + 1$, $f'(x) = 2$\nc) $f(x) = 5x^2$, $f'(x)= 10x$\nd) $f(x) = 4x^3 + x^2$, $f'(x)=12x^2 + 2x$\ne) $f(x) = \\sqrt(x) = x^{\\frac{1}{2}}$, $f'(x)=\\frac{1}{2}x^{\\frac{1}{2}-1} = \\frac{1}{2}x^{-\\frac{1}{2}}$\nf) $f(x) = \\ln(2x)$, $f'(x) = \\frac{1}{x}$\ng) $f(x) = e^{x}$, $f'(x) = e^x$\nh) $f(x) = \\frac{9}{x^2} + ln(4x)$\ni) $f(x) = 4x−6x^6$\nj) $f(x) = \\frac{3}{x^2}$\n\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":"html_document","warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"knitr"},"render":{"keep-tex":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":true,"code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true,"format-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","output-file":"math-differentiation.html"},"language":{},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.3.217","bibliography":["references.bib"],"theme":"spacebar","mermaid":{"theme":"forest"},"editor_options":{"chunk_output_type":"console"}},"extensions":{"book":{"multiFile":true}}}}}