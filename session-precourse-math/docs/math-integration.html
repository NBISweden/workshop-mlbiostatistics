<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.217">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Mathmetical foundations - 5&nbsp; Integration</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./math-vectors.html" rel="next">
<link href="./math-differentiation.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="nav-sidebar floating slimcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./math-integration.html"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Integration</span></a></li></ol></nav>
      <a class="flex-grow-1" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Mathmetical foundations</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">Preface</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./math-notations.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Notations</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./math-sets.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Sets</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./math-functions.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Functions</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./math-differentiation.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Differentiation</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./math-integration.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Integration</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./math-vectors.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Vectors</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./math-matrix.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Matrices</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#reverse-to-differentiation" id="toc-reverse-to-differentiation" class="nav-link active" data-scroll-target="#reverse-to-differentiation"><span class="toc-section-number">5.1</span>  Reverse to differentiation</a></li>
  <li><a href="#what-is-constant-of-integration" id="toc-what-is-constant-of-integration" class="nav-link" data-scroll-target="#what-is-constant-of-integration"><span class="toc-section-number">5.2</span>  What is constant of integration?</a></li>
  <li><a href="#table-of-integrals" id="toc-table-of-integrals" class="nav-link" data-scroll-target="#table-of-integrals"><span class="toc-section-number">5.3</span>  Table of integrals</a></li>
  <li><a href="#definite-integrals" id="toc-definite-integrals" class="nav-link" data-scroll-target="#definite-integrals"><span class="toc-section-number">5.4</span>  Definite integrals</a></li>
  <li><a href="#exercises" id="toc-exercises" class="nav-link" data-scroll-target="#exercises">Exercises</a></li>
  <li><a href="#answers" id="toc-answers" class="nav-link" data-scroll-target="#answers">Answers</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Integration</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p><strong>Aims</strong></p>
<ul>
<li>to introduce the concept of integration</li>
</ul>
<p><strong>Learning outcomes</strong></p>
<ul>
<li>to be able to explain what integration is</li>
<li>to be able to explain the relationship between differentiation and integration</li>
<li>to be able to integrate simple functions</li>
<li>to to able to use integration to calculate the area under the curve in simple cases</li>
</ul>
<section id="reverse-to-differentiation" class="level2" data-number="5.1">
<h2 data-number="5.1" class="anchored" data-anchor-id="reverse-to-differentiation"><span class="header-section-number">5.1</span> Reverse to differentiation</h2>
<ul>
<li>when a function <span class="math inline">\(f(x)\)</span> is known we can differentiate it to obtain the derivative <span class="math inline">\(f'(x)\)</span></li>
<li>the reverse process is to obtain <span class="math inline">\(f(x)\)</span> from the derivative</li>
<li>this process is called <strong>integration</strong></li>
<li>apart from simple reversing differentiation integration comes very useful in finding <strong>areas under curves</strong>, i.e.&nbsp;the area above the x-axis and below the graph of <span class="math inline">\(f(x)\)</span>, assuming that <span class="math inline">\(f(x)\)</span> is positive</li>
<li>the symbol for integration is <span class="math inline">\(\int\)</span> and is known as “integral sign”</li>
</ul>
<p>E.g. let’s take a function <span class="math inline">\(f(x) = x^2\)</span>. Suppose we only have a derivative, which is <span class="math inline">\(f'(x) = 2x\)</span> and we would like to find the function given this derivative. Formally we write: <span class="math display">\[\int 2x dx = x^2 +c\]</span></p>
<p>where:</p>
<ul>
<li>the term <span class="math inline">\(2x\)</span> within the integral is called the <strong>integrand</strong></li>
<li>the term <span class="math inline">\(dx\)</span> indicates the name of the variable involved, here <span class="math inline">\(x\)</span></li>
<li><span class="math inline">\(c\)</span> is <strong>constant of integration</strong></li>
</ul>
</section>
<section id="what-is-constant-of-integration" class="level2" data-number="5.2">
<h2 data-number="5.2" class="anchored" data-anchor-id="what-is-constant-of-integration"><span class="header-section-number">5.2</span> What is constant of integration?</h2>
<ul>
<li>Integration reverses the process of differentiation, here, given our example function <span class="math inline">\(f(x) = x^2\)</span> that we pretended we do not know, we started with the derivative <span class="math inline">\(f´(x) = 2x\)</span> and via integration we obtained back the very function <span class="math display">\[\int 2x dx = x^2\]</span></li>
<li>However, many function can result in the very same derivative since the derivative of a constant is 0 e.g.&nbsp;a derivatives of <span class="math inline">\(f(x) = x^2\)</span>, <span class="math inline">\(f(x) = x^2 + 10\)</span> and <span class="math inline">\(f(x) = x^2 + \frac{1}{2}\)</span> all equal to <span class="math inline">\(f'(x) = 2x\)</span></li>
<li>We have to take this into account when we are integrating, i.e.&nbsp;reverting differentiation. As we have no way of knowing what the original function constant is, we add it in form of <span class="math inline">\(c\)</span>, i.e.&nbsp;unknown constant, called the constant of integration.</li>
</ul>
</section>
<section id="table-of-integrals" class="level2" data-number="5.3">
<h2 data-number="5.3" class="anchored" data-anchor-id="table-of-integrals"><span class="header-section-number">5.3</span> Table of integrals</h2>
<p>Similar to differentiation, in practice we can use tables of integrals to be able to find integrals in simple cases</p>
<table class="table">
<caption>Common functions and their integrals, <span class="math inline">\(k\)</span> denotes a constant {#tbl:integrals}</caption>
<thead>
<tr class="header">
<th style="text-align: center;">Function <span class="math inline">\(f(x)\)</span></th>
<th style="text-align: center;">Integral <span class="math inline">\(\int f(x) dx\)</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><span class="math inline">\(constant\:k\)</span></td>
<td style="text-align: center;"><span class="math inline">\(kx + c\)</span></td>
</tr>
<tr class="even">
<td style="text-align: center;"><span class="math inline">\(x\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\frac{x^2}{2}+c\)</span></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><span class="math inline">\(kx\)</span></td>
<td style="text-align: center;"><span class="math inline">\(k\frac{x^2}{2}+c\)</span></td>
</tr>
<tr class="even">
<td style="text-align: center;"><span class="math inline">\(x^n\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\frac{x^{n+1}}{n+1}+c\;\; if\;n\neq-1\)</span></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><span class="math inline">\(kx^n\)</span></td>
<td style="text-align: center;"><span class="math inline">\(k\frac{x^{n+1}}{n+1}+c\)</span></td>
</tr>
<tr class="even">
<td style="text-align: center;"><span class="math inline">\(e^x\)</span></td>
<td style="text-align: center;"><span class="math inline">\(e^x+c\)</span></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><span class="math inline">\(e^{kx}\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\frac{e^{kx}}{k}+c\)</span></td>
</tr>
<tr class="even">
<td style="text-align: center;"><span class="math inline">\(\frac{1}{x}\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\ln(x)+c\)</span></td>
</tr>
</tbody>
</table>
<p>E.g.</p>
<ul>
<li><span class="math inline">\(\int 4x^3 dx = \frac{4x^{3+1}}{3+1}=x^4 + c\)</span></li>
<li><span class="math inline">\(\int (x^2 + x) dx = \frac{x^3}{3} + \frac{x^2}{2} +c\)</span> (note: we can evaluate integrals separately and add them as integration as differentiation is linear)</li>
</ul>
</section>
<section id="definite-integrals" class="level2 page-columns page-full" data-number="5.4">
<h2 data-number="5.4" class="anchored" data-anchor-id="definite-integrals"><span class="header-section-number">5.4</span> Definite integrals</h2>
<ul>
<li><p>the above examples of integrals are <strong>indefinite integrals</strong>, the result of finding an indefinite integral is usually a function plus a constant of integration</p></li>
<li><p>we have also <strong>definite integrals</strong>, so called because the result is a definite answer, usually a number, with no constant of integration</p></li>
<li><p>definite integrals are often used to areas bounded by curves or, as we will cover later on, estimating probabilities</p></li>
<li><p>we write: <span class="math display">\[\int_{a}^bf(x)dx\]</span> where:</p></li>
<li><p><span class="math inline">\(\int_{a}^bf(x)dx\)</span> is called the definite integral of <span class="math inline">\(f(x)\)</span> from <span class="math inline">\(a\)</span> to <span class="math inline">\(b\)</span></p></li>
<li><p>the numbers <span class="math inline">\(a\)</span> and <span class="math inline">\(b\)</span> are known as lower and upper limits of the integral</p></li>
</ul>
<p>E.g. let’s look at the function <span class="math inline">\(f(x) = x\)</span> plotted below and calculate a definite integral from <span class="math inline">\(0\)</span> to <span class="math inline">\(2\)</span>.</p>
<div class="cell page-columns page-full" data-layout-align="center">
<div class="cell-output-display page-columns page-full">
<div class="quarto-figure quarto-figure-center page-columns page-full">
<figure class="figure page-columns page-full">
<p><img src="math-integration_files/figure-html/int-area-1.png" class="img-fluid figure-img" width="480"></p>
<p></p><figcaption class="figure-caption margin-caption">Graph of function <span class="math inline">\(f(x) = x\)</span></figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>We write <span class="math display">\[\int_{0}^2f(x)dx = \int_{0}^2 xdx =  \Bigr[ \frac{1}{2}x^2\Bigr]_0^2 = \frac{1}{2}(2)^2 - \frac{1}{2}(0)^2 = 2\]</span> so first find the integral and then we evaluate it at upper limit and subtracting the evaluation at the lower limit. Here, the result it 2. What would be the result if you tried to calculate the triangle area on the above plot, area defined by the blue vertical lines drawn at 0 and 2 and horizontal x-axis? The formula for the triangle area is <span class="math inline">\(Area = \frac{1}{2}\cdot base \cdot height\)</span> so here <span class="math inline">\(Area = \frac{1}{2} \cdot 2 \cdot 2 = 2\)</span> the same result as achieved with integration.</p>
</section>
<section id="exercises" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="exercises">Exercises</h2>
<div id="exr-m-int" class="theorem exercise">
<p><span class="theorem-title"><strong>Exercise 5.1 (Integrate) </strong></span>Integrate:</p>
<ol type="a">
<li><span class="math inline">\(\int 2 \cdot dx\)</span></li>
<li><span class="math inline">\(\int 2x\cdot dx\)</span></li>
<li><span class="math inline">\(\int (x^4 + x^2 + 1)\cdot dx\)</span></li>
<li><span class="math inline">\(\int e^x\cdot dx\)</span></li>
<li><span class="math inline">\(\int e^{2x}\cdot dx\)</span></li>
<li><span class="math inline">\(\int \frac{2}{x}\cdot dx\)</span></li>
<li><span class="math inline">\(\int_2^4 2x\cdot dx\)</span></li>
<li><span class="math inline">\(\int_0^4 (x^2+1)dx\)</span> <!-- i) $\int (x^4 + \frac{2}{x} + e^{2x}) dx$ --> <!-- j) $\int_0^4 (x^4+1) dx$ --></li>
</ol>
</div>
</section>
<section id="answers" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="answers">Answers</h2>
<div class="solution proof">
<p><span class="proof-title"><em>Solution</em>. </span><a href="#exr-m-int">Exercise&nbsp;<span>5.1</span></a></p>
</div>
<ol type="a">
<li><span class="math inline">\(\int 2 \cdot dx = 2x +c\)</span></li>
<li><span class="math inline">\(\int 2x\cdot dx = \frac{2x^2}{2} = x^2 + c\)</span></li>
<li><span class="math inline">\(\int (x^4 + x^2 + 1)\cdot dx = \frac{x^5}{5} + \frac{x^3}{3} + x + c\)</span></li>
<li><span class="math inline">\(\int e^x\cdot dx = e^x + c\)</span></li>
<li><span class="math inline">\(\int e^{2x}\cdot dx = \frac{1}{2}e^{2x}\)</span></li>
<li><span class="math inline">\(\int \frac{2}{x}\cdot dx =\int 2\cdot \frac{1}{x}\cdot dx = 2 \ln{x}+ c\)</span></li>
<li><span class="math inline">\(\int_2^4 2x\cdot dx = \Bigr[x^2\Bigr]_2^4 = 16 - 4 = 12\)</span></li>
<li><span class="math inline">\(\int_0^4 (x^2+1)dx = \Bigr[\frac{x^3}{3} + x \Bigr]_0^4=\frac{4^3}{3}+4 - 0 = \frac{64}{3}+4 = \frac{76}{3}\)</span> <!-- i) $\int x^4 + \frac{2}{x} + e^{2x}\cdot dx$ --> <!-- j) $\int_0^4 x^4+1\cdot dx$ --></li>
</ol>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./math-differentiation.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Differentiation</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./math-vectors.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Vectors</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>